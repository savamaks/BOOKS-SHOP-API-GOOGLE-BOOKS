{"version":3,"file":"main.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;ACAsC;AACtC;AACA,yBAAyB,mDAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,wCAAwC;AACzH;AACA,YAAY,8BAA8B,YAAY;AACtD;AACA,sEAAsE,wCAAwC;AAC9G;AACA,aAAa,8BAA8B,YAAY;AACvD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mCAAmC,EAAE,8CAA8C;AAC/G;AACA;AACA;AACA;AACA,gCAAgC,6BAA6B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO,YAAY,wCAAwC;AACpG,0EAA0E,6BAA6B,EAAE;AACzG;AACA,sDAAsD,mBAAmB;AACzE,uDAAuD,MAAM;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,qDAAqD;AACjH,sDAAsD,OAAO;AAC7D,2DAA2D,yCAAyC;AACpG;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,MAAM;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,OAAO,EAAE,2BAA2B,eAAe,MAAM,GAAG,aAAa;AACjI;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,wCAAwC,IAAI;AAC5C;AACA;AACA;AACA,iEAAe,UAAU,EAAC;AAC1B;AACA;AACA;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,OAAO,EAAE,4BAA4B;AAC1G;AACA,aAAa,iBAAiB,MAAM;AACpC;AACA;AACA,6DAA6D,OAAO,EAAE,4BAA4B,gBAAgB,MAAM;AACxH;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,2CAA2C,IAAI;AAC/C;AACA,0CAA0C,IAAI;AAC9C;AACA;AACA;AACA;AACA;;;;;;;UCxDA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;ACN0B;AACF;AACI","sources":["webpack:///./scss/style.scss","webpack:///./src/RequestApi.js","webpack:///./src/categories.js","webpack:///./src/slider.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","import Categories from \"./categories\";\r\n\r\nclass RequestApi extends Categories {\r\n    constructor() {\r\n        super();\r\n        this._buttonRequest = document.querySelector(\".button-load\");\r\n        this._keyAPI = \"AIzaSyCbJN6vx_NxrCKGjsVCVX7EjRLgzo1zKo4\";\r\n        this._bookBox = document.querySelector(\".block__box\");\r\n        this._start = 0;\r\n        this._basket = document.querySelector(\".header__box-count-product\");\r\n        this._amountProduct = localStorage.length;\r\n        this.placeholder='../image/image/book-placeholder.jpg'\r\n    }\r\n\r\n    start() {\r\n        this.initNavLink();\r\n        this.initHandler();\r\n        this.startRequest();\r\n        this.basket();\r\n\r\n        \r\n    }\r\n    async startRequest() {\r\n       \r\n        this._result = await this.request();\r\n\r\n        this.writeBook(this._result.items);\r\n    }\r\n\r\n    request() {\r\n        // console.log(this._category);\r\n        // console.log(this._arrCategories[this._category].url)\r\n        // console.log(`https://www.googleapis.com/books/v1/volumes?q=\"subject:${this._arrCategories[this._category].url}\"&key=${\r\n        //     this._keyAPI\r\n        // }&printType=books&startIndex=${this._start}&maxResults=6&langRestrict=ru`);\r\n        return fetch(\r\n            `https://www.googleapis.com/books/v1/volumes?q=\"subject:${this._arrCategories[this._category].url}\"&key=${\r\n                this._keyAPI\r\n            }&printType=books&startIndex=${this._start}&maxResults=6&langRestrict=ru`\r\n        )\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                return (this._result = data);\r\n            })\r\n            .catch(() => {\r\n                console.log(\"error\");\r\n            });\r\n    }\r\n    async initHandler() {\r\n        this._buttonRequest.addEventListener(\"click\", async () => {\r\n            this._start += 6;\r\n            this._result = await this.request();\r\n\r\n            this.writeBook(this._result.items);\r\n            \r\n\r\n        });\r\n    }\r\n     writeBook(arrBook) {\r\n        // console.log(arrBook);\r\n        let count = 0\r\n        arrBook.forEach(async (element, index) => {\r\n            let book = element;\r\n            let idBook = book.id;\r\n            let autor = book.volumeInfo.authors;\r\n            let description = book.volumeInfo.description?.slice(0, 82);\r\n            let image = book.volumeInfo.imageLinks?.thumbnail;\r\n            let title = book.volumeInfo.title;\r\n            let price = book.saleInfo.retailPrice;\r\n            let priceN = `${price?.amount ? price.amount : \"\"} ${price?.currencyCode ? price.currencyCode : \"\"}`;\r\n            let raiting = book.volumeInfo.averageRating;\r\n            let grade = book.volumeInfo.raitingCount;\r\n            let flagButton = false;\r\n            //проверка есть книга в корзине\r\n            for (let index = 0; index < localStorage.length; index++) {\r\n                if (localStorage.key(index) === idBook) {\r\n                    flagButton = true;\r\n                }\r\n            }\r\n\r\n            if (document.getElementById(idBook)) {\r\n                \r\n                return;\r\n            }\r\n            // count++\r\n            // if(count<=6){\r\n            //     let r = 6-count\r\n            //     await this.request(r)\r\n            //     this.writeBook(this._result.items)\r\n            // }\r\n            // console.log(count);\r\n            let bookNew = `\r\n            <div class=\"card-book\" id='${idBook}' attr = \"${flagButton === true ? \"buy\" : \"not-buy\"}\">\r\n                <div class=\"card-book__img\" style=\"background-image:url(${image?image:this.placeholder});\"></div>\r\n                <div class=\"card-book__box\">\r\n                    <p class=\"card-book__box-autor\">${autor ? autor : \"\"}</p>\r\n                    <h2 class=\"card-book__box-title\">${title}</h2>\r\n                    <div class=\"card-book__box-raiting\">\r\n                        <div class=\"card-book__box-raiting--star\">\r\n                            <img src=\"../image/icons/Star.svg\" alt=\"\" />\r\n                            <img src=\"../image/icons/Star.svg\" alt=\"\" />\r\n                            <img src=\"../image/icons/Star.svg\" alt=\"\" />\r\n                            <img src=\"../image/icons/Star.svg\" alt=\"\" />\r\n                            <img src=\"../image/icons/Star.svg\" alt=\"\" />\r\n                        </div>\r\n                    <p class=\"card-book__box-raiting--text\">252 review</p>\r\n                    </div>\r\n                    <p class=\"card-book__box-description\">${description === undefined ? \"\" : description + \"...\"}</p>\r\n                    <p class=\"card-book__box-price\">${priceN}</p>\r\n                    <button class=\"card-book__box-button ${flagButton === true ? \"in-the-cart\" : \"\"}\">${\r\n                flagButton === true ? \"in the cart\" : \"buy now\"\r\n            }</button>\r\n                </div>\r\n            </div>`;\r\n            this._bookBox.innerHTML += bookNew;\r\n        });\r\n        this.initButtonBuy();\r\n    }\r\n    initButtonBuy() {\r\n        this._buttons = document.querySelectorAll(\".card-book__box-button\");\r\n        this._buttons.forEach((element) => {\r\n            element.addEventListener(\"click\", () => {\r\n                this.bookBuy(element);\r\n            });\r\n        });\r\n    }\r\n    bookBuy(el) {\r\n        // console.log(el.parentElement.parentElement.id);\r\n        let book = document.getElementById(el.parentElement.parentElement.id);\r\n        if (book.getAttribute(\"attr\") === \"not-buy\") {\r\n            book.setAttribute(\"attr\", \"buy\");\r\n            book.querySelector(\".card-book__box-button\").classList.toggle(\"in-the-cart\");\r\n            book.querySelector(\".card-book__box-button\").textContent = \"in the cart\";\r\n            this.localMemory(book, el.parentElement.parentElement.id);\r\n            this.basket();\r\n        } else {\r\n            book.setAttribute(\"attr\", \"not-buy\");\r\n            book.querySelector(\".card-book__box-button\").classList.toggle(\"in-the-cart\");\r\n            book.querySelector(\".card-book__box-button\").textContent = \"buy now\";\r\n            localStorage.removeItem(el.parentElement.parentElement.id);\r\n            this.basket();\r\n        }\r\n        // console.log(book);\r\n    }\r\n    basket() {\r\n        this._amountProduct = localStorage.length;\r\n        this._basket.innerHTML = this._amountProduct;\r\n        if (this._amountProduct > 0) {\r\n            this._basket.classList.add(\"active\");\r\n        } else {\r\n            this._basket.classList.remove(\"active\");\r\n        }\r\n    }\r\n\r\n    localMemory(book, id) {\r\n        // console.log(book.children[1].children[4].textContent);\r\n        this._arrBook = {\r\n            id: id,\r\n            autor: book.children[1].children[0].textContent,\r\n            title: book.children[1].children[1].textContent,\r\n            description: book.children[1].children[3].textContent,\r\n            price: book.children[1].children[4].textContent,\r\n        };\r\n        this._arrBookJson = JSON.stringify(this._arrBook);\r\n        localStorage.setItem(id, this._arrBookJson);\r\n    }\r\n}\r\nconst requestApi = new RequestApi();\r\ndocument.addEventListener(\"DOMContentLoaded\", requestApi.start());\r\n\r\n// const res = async ()=>{\r\n//     try {\r\n//         const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=\"subject:Business\"&key=AIzaSyCbJN6vx_NxrCKGjsVCVX7EjRLgzo1zKo4&printType=books&startIndex=0&maxResults=2&langRestrict=en`);\r\n//         const json = await response.json();\r\n//         return json;\r\n//     } catch {\r\n//         console.log('error');\r\n//     }\r\n// }\r\n\r\n// console.log();\r\n\r\n// let bookNew = document.createElement(\"div\");\r\n// bookNew.ClassList.add(\"card-book\");\r\n\r\n// let imageDiv = document.createElement(\"div\");\r\n// imageDiv.ClassList.add(\"card-book__img\");\r\n// imageDiv.style.backgroundImage = `url(${image})`;\r\n\r\n// let bookDiv = document.createElement(\"div\");\r\n// bookDiv.ClassList.add(\"card-book__box\");\r\n\r\n// let autorBook = document.createElement(\"p\");\r\n// autorBook.classList.add(\"card-book__box-autor\");\r\n// autorBook.textContent = autor ? autor : \"\";\r\n\r\n// let titleBook = document.createElement(\"h2\");\r\n// titleBook.classList.add(\"card-book__box-title\");\r\n// titleBook.textContent = title;\r\n\r\n// let raitingDiv = document.createElement(\"div\");\r\n// raitingDiv.classList.add(\"card-book__box-raiting\");\r\n\r\n// let raitingStarDiv = document.createElement(\"div\");\r\n// raitingStarDiv.classList.add(\"card-book__box-raiting--star\");\r\n\r\n// let raitingText = document.createElement(\"div\");\r\n// raitingText.classList.add(\"card-book__box-raiting--text\");\r\n\r\n// let descriptionBook = document.createElement(\"p\");\r\n// descriptionBook.classList.add(\"card-book__box-description\");\r\n// descriptionBook.textContent = description === undefined ? \"\" : description + \"...\";\r\n\r\n// let priceBook = document.createElement(\"p\");\r\n// priceBook.classList.add(\"card-book__box-price\");\r\n// priceBook.textContent = priceN;\r\n\r\n// let buttonBuy = document.createElement(\"button\");\r\n// buttonBuy.classList.add(\"card-book__box-button\")`<div class=\"card-book\">\r\n","class Categories {\r\n    constructor() {\r\n        this._arrCategories = [\r\n            {\r\n                name: \"Architecture\",\r\n                url: \"Architecture\",\r\n            },\r\n            {\r\n                name: \"Art & Fashion\",\r\n                url: \"Art\",\r\n            },\r\n            {\r\n                name: \"Biography\",\r\n                url: \"Biography & Autobiography\",\r\n            },\r\n            {\r\n                name: \"Business\",\r\n                url: \"Business\",\r\n            },\r\n            {\r\n                name: \"Crafts & Hobbies\",\r\n                url: \"Crafts & Hobbies\",\r\n            },\r\n            {\r\n                name: \"Drama\",\r\n                url: \"Drama\",\r\n            },\r\n            {\r\n                name: \"Fiction\",\r\n                url: \"Fiction\",\r\n            },\r\n            {\r\n                name: \"Food & Drink\",\r\n                url: \"Cooking\",\r\n            },\r\n            {\r\n                name: \"Health & Wellbeing\",\r\n                url: \"Health & Fitness\",\r\n            },\r\n            {\r\n                name: \"History & Politics\",\r\n                url: \"History\",\r\n            },\r\n            {\r\n                name: \"Humor\",\r\n                url: \"Humor\",\r\n            },\r\n            {\r\n                name: \"Poetry\",\r\n                url: \"Poetry\",\r\n            },\r\n            {\r\n                name: \"Psychology\",\r\n                url: \"Psychology\",\r\n            },\r\n            {\r\n                name: \"Science\",\r\n                url: \"Science\",\r\n            },\r\n            {\r\n                name: \"Technology\",\r\n                url: \"Technology\",\r\n            },\r\n            {\r\n                name: \"Travel & Maps\",\r\n                url: \"Travel\",\r\n            },\r\n        ];\r\n        this._navBox = document.querySelector('.block__nav')\r\n        this._link \r\n        this._category = 0\r\n    }\r\n\r\n    initNavLink() {\r\n        this._arrCategories.forEach((element, index) => {\r\n            this._link = `<h2 class=\"block__nav-link n${index} ${index == 0 ? \"active\" : \"\"}\" data-index=${index}>${element.name}</h2>`;\r\n            this._navBox.innerHTML += this._link\r\n        });\r\n        this._links = document.querySelectorAll(\".block__nav-link\");\r\n        this._links.forEach((link) => {\r\n            link.addEventListener(\"click\", () => {\r\n                this.linkClick(link.dataset.index);\r\n                if(+this._category !== +link.dataset.index ){\r\n                    this._category = link.dataset.index\r\n                    this._start = 0\r\n                    this._bookBox.innerHTML = ''\r\n                    this.startRequest()\r\n                    \r\n                }\r\n            });\r\n        });\r\n    }\r\n    linkClick(num) {\r\n        this._navBox.querySelector(\".active\").classList.remove(\"active\");\r\n        this._navBox.querySelector(`.n${num}`).classList.add(\"active\");\r\n    }\r\n}\r\n\r\nexport default Categories;\r\n\r\n\r\n\r\n","class Slider {\r\n    constructor() {\r\n        this._arrImages = [\r\n            {\r\n                url: \"..//image/image/banner.png\",\r\n            },\r\n            {\r\n                url: \"..//image/image/banner2.png\",\r\n            },\r\n            {\r\n                url: \"..//image/image/banner3.png\",\r\n            },\r\n        ];\r\n        this._sliderBox = document.querySelector(\".advertising__slider\");\r\n        this._pointBox = document.querySelector(\".advertising__pointer-box\");\r\n        this._slider;\r\n    }\r\n    initSlider() {\r\n        this._arrImages.forEach((element, index) => {\r\n            this._slider = `<div class=\"advertising__slider-image n${index} ${index === 0 ? \"active\" : \"\"}\" style = 'background-image:url(${\r\n                this._arrImages[index].url\r\n            })' data-index=\"${index}\"></div>`;\r\n            this._sliderBox.innerHTML += this._slider;\r\n\r\n            this._point = `<div class=\"advertising__point n${index} ${index === 0 ? \"active\" : \"\"}\" data-index=\"${index}\"></div>`;\r\n            this._pointBox.innerHTML += this._point;\r\n        });\r\n        this._pointer = document.querySelectorAll(\".advertising__point\");\r\n        this._pointer.forEach((point) => {\r\n            point.addEventListener(\"click\", () => {\r\n                this.pointerClick(point.dataset.index);\r\n            });\r\n        });\r\n        this.interval();\r\n    }\r\n    interval() {\r\n        let count = 0;\r\n        setInterval(() => {\r\n            this.pointerClick(count);\r\n            count++;\r\n\r\n            if (count === this._pointer.length) {\r\n                count = 0;\r\n            }\r\n        }, 5000);\r\n    }\r\n\r\n    pointerClick(num) {\r\n        this._sliderBox.querySelector(\".active\").classList.remove(\"active\");\r\n        this._sliderBox.querySelector(`.n${num}`).classList.add(\"active\");\r\n        this._pointBox.querySelector(\".active\").classList.remove(\"active\");\r\n        this._pointBox.querySelector(`.n${num}`).classList.add(\"active\");\r\n    }\r\n}\r\n\r\nlet slider = new Slider();\r\nslider.initSlider();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './scss/style.scss'\r\nimport './src/slider.js'\r\nimport './src/RequestApi.js'\r\n"],"names":[],"sourceRoot":""}