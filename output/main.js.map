{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/slider.js","webpack:///webpack/bootstrap","webpack:///./src/RequestApi.js","webpack:///./src/WriteContent.js"],"sourcesContent":["class Slider {\r\n    constructor() {\r\n        this._arrImages = [\r\n            {\r\n                url: \"..//image/image/banner.png\",\r\n            },\r\n            {\r\n                url: \"..//image/image/banner2.png\",\r\n            },\r\n            {\r\n                url: \"..//image/image/banner3.png\",\r\n            },\r\n            \r\n        ];\r\n        this._sliderBox = document.querySelector(\".advertising__slider\");\r\n        this._pointBox = document.querySelector(\".advertising__pointer-box\");\r\n        this._slider;\r\n        this._count = 0\r\n    }\r\n    initSlider() {\r\n        this._arrImages.forEach((element, index) => {\r\n            this._slider = `<div class=\"advertising__slider-image n${index} ${index === 0 ? \"active\" : \"\"}\" style = 'background-image:url(${\r\n                this._arrImages[index].url\r\n            })' data-index=\"${index}\"></div>`;\r\n            this._sliderBox.innerHTML += this._slider;\r\n\r\n            this._point = `<div class=\"advertising__point n${index} ${index === 0 ? \"active\" : \"\"}\" data-index=\"${index}\"></div>`;\r\n            this._pointBox.innerHTML += this._point;\r\n        });\r\n        this._pointer = document.querySelectorAll(\".advertising__point\");\r\n        this._pointer.forEach((point) => {\r\n            point.addEventListener(\"click\", () => {\r\n                this.pointerClick(point.dataset.index);\r\n                this._count = point.dataset.index\r\n            });\r\n        });\r\n        this.interval();\r\n    }\r\n    interval() {\r\n        \r\n        setInterval(() => {\r\n            this.pointerClick(this._count);\r\n            this._count++;\r\n\r\n            if (this._count === this._pointer.length) {\r\n                this._count = 0;\r\n            }\r\n        }, 5000);\r\n    }\r\n\r\n    pointerClick(num) {\r\n        this._sliderBox.querySelector(\".active\").classList.remove(\"active\");\r\n        this._sliderBox.querySelector(`.n${num}`).classList.add(\"active\");\r\n        this._pointBox.querySelector(\".active\").classList.remove(\"active\");\r\n        this._pointBox.querySelector(`.n${num}`).classList.add(\"active\");\r\n    }\r\n}\r\n\r\nlet slider = new Slider();\r\nslider.initSlider();\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","class RequestApi {\r\n    constructor() {\r\n        this._buttonRequest = document.querySelector(\".button-load\");\r\n        this._keyAPI = \"AIzaSyCbJN6vx_NxrCKGjsVCVX7EjRLgzo1zKo4\";\r\n        this._bookBox = document.querySelector(\".block__box\");\r\n        this._start = 0;\r\n        this._basket = document.querySelector(\".header__box-count-product\");\r\n        this._amountProduct = localStorage.length;\r\n        this.placeholder = \"../image/image/book-placeholder.jpg\";\r\n        this._arrCategories = [\r\n            {\r\n                name: \"Architecture\",\r\n                url: \"Architecture\",\r\n            },\r\n            {\r\n                name: \"Art & Fashion\",\r\n                url: \"Art\",\r\n            },\r\n            {\r\n                name: \"Biography\",\r\n                url: \"Biography & Autobiography\",\r\n            },\r\n            {\r\n                name: \"Business\",\r\n                url: \"Business\",\r\n            },\r\n            {\r\n                name: \"Crafts & Hobbies\",\r\n                url: \"Crafts & Hobbies\",\r\n            },\r\n            {\r\n                name: \"Drama\",\r\n                url: \"Drama\",\r\n            },\r\n            {\r\n                name: \"Fiction\",\r\n                url: \"Fiction\",\r\n            },\r\n            {\r\n                name: \"Food & Drink\",\r\n                url: \"Cooking\",\r\n            },\r\n            {\r\n                name: \"Health & Wellbeing\",\r\n                url: \"Health & Fitness\",\r\n            },\r\n            {\r\n                name: \"History & Politics\",\r\n                url: \"History\",\r\n            },\r\n            {\r\n                name: \"Humor\",\r\n                url: \"Humor\",\r\n            },\r\n            {\r\n                name: \"Poetry\",\r\n                url: \"Poetry\",\r\n            },\r\n            {\r\n                name: \"Psychology\",\r\n                url: \"Psychology\",\r\n            },\r\n            {\r\n                name: \"Science\",\r\n                url: \"Science\",\r\n            },\r\n            {\r\n                name: \"Technology\",\r\n                url: \"Technology\",\r\n            },\r\n            {\r\n                name: \"Travel & Maps\",\r\n                url: \"Travel\",\r\n            },\r\n        ];\r\n        this._navBox = document.querySelector(\".block__nav\");\r\n        this._link;\r\n        this._category = 0;\r\n    }\r\n\r\n    //запрос на сервер\r\n    async request() {\r\n        try {\r\n            const response = await fetch(\r\n                `https://www.googleapis.com/books/v1/volumes?q=\"subject:${this._arrCategories[this._category].url}\"&key=${\r\n                    this._keyAPI\r\n                }&printType=books&startIndex=${this._start}&maxResults=6&langRestrict=ru`\r\n            );\r\n            const data = await response.json();\r\n            return (this._result = data);\r\n        } catch {\r\n            console.log(\"error\");\r\n        }\r\n    }\r\n    //инициализация списка категорий\r\n    initNavLink() {\r\n        this._arrCategories.forEach((element, index) => {\r\n            this._link = `<div class=\"block__nav-box\">\r\n            <div class=\"block__nav-circle n${index} ${index == 0 ? \"active\" : \"\"}\" data-index=${index}></div>\r\n            <h2 class=\"block__nav-link n${index} ${index == 0 ? \"active\" : \"\"}\" data-index=${index}>${element.name}</h2>\r\n        </div>`;\r\n            this._navBox.innerHTML += this._link;\r\n        });\r\n        this._links = document.querySelectorAll(\".block__nav-link\");\r\n        this._links.forEach((link) => {\r\n            link.addEventListener(\"click\", (e) => {\r\n                e.preventDefault()\r\n                this.linkClick(link.dataset.index);\r\n                if (+this._category !== +link.dataset.index) {\r\n                    this._category = link.dataset.index;\r\n                    this._start = 0;\r\n                    this._bookBox.innerHTML = \"\";\r\n                    this.startRequest();\r\n                }\r\n            });\r\n        });\r\n    }\r\n    linkClick(num) {\r\n        this._navBox.querySelectorAll(\".active\").forEach((element) => {\r\n            element.classList.remove(\"active\");\r\n        });\r\n        this._navBox.querySelectorAll(`.n${num}`).forEach((element) => {\r\n            element.classList.add(\"active\");\r\n        });\r\n    }\r\n}\r\n\r\nexport default RequestApi;\r\n\r\n// const res = async ()=>{\r\n//     try {\r\n//         const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=\"subject:Business\"&key=AIzaSyCbJN6vx_NxrCKGjsVCVX7EjRLgzo1zKo4&printType=books&startIndex=0&maxResults=2&langRestrict=en`);\r\n//         const json = await response.json();\r\n//         return json;\r\n//     } catch {\r\n//         console.log('error');\r\n//     }\r\n// }\r\n\r\n// console.log();\r\n\r\n// let bookNew = document.createElement(\"div\");\r\n// bookNew.ClassList.add(\"card-book\");\r\n\r\n// let imageDiv = document.createElement(\"div\");\r\n// imageDiv.ClassList.add(\"card-book__img\");\r\n// imageDiv.style.backgroundImage = `url(${image})`;\r\n\r\n// let bookDiv = document.createElement(\"div\");\r\n// bookDiv.ClassList.add(\"card-book__box\");\r\n\r\n// let autorBook = document.createElement(\"p\");\r\n// autorBook.classList.add(\"card-book__box-autor\");\r\n// autorBook.textContent = autor ? autor : \"\";\r\n\r\n// let titleBook = document.createElement(\"h2\");\r\n// titleBook.classList.add(\"card-book__box-title\");\r\n// titleBook.textContent = title;\r\n\r\n// let raitingDiv = document.createElement(\"div\");\r\n// raitingDiv.classList.add(\"card-book__box-raiting\");\r\n\r\n// let raitingStarDiv = document.createElement(\"div\");\r\n// raitingStarDiv.classList.add(\"card-book__box-raiting--star\");\r\n\r\n// let raitingText = document.createElement(\"div\");\r\n// raitingText.classList.add(\"card-book__box-raiting--text\");\r\n\r\n// let descriptionBook = document.createElement(\"p\");\r\n// descriptionBook.classList.add(\"card-book__box-description\");\r\n// descriptionBook.textContent = description === undefined ? \"\" : description + \"...\";\r\n\r\n// let priceBook = document.createElement(\"p\");\r\n// priceBook.classList.add(\"card-book__box-price\");\r\n// priceBook.textContent = priceN;\r\n\r\n// let buttonBuy = document.createElement(\"button\");\r\n// buttonBuy.classList.add(\"card-book__box-button\")`<div class=\"card-book\">\r\n","import RequestApi from \"./RequestApi\";\r\n\r\nclass WriteContent extends RequestApi {\r\n    constructor() {\r\n        super();\r\n    }\r\n    start() {\r\n        this.startRequest();\r\n        this.initNavLink();\r\n        this.initHandler();\r\n        this.basket();\r\n    }\r\n    //при запуске отображение книг из категории по умолчанию\r\n    async startRequest() {\r\n        this._result = await this.request();\r\n        this.writeBook(this._result.items);\r\n    }\r\n\r\n    //кнопка load more\r\n    async initHandler() {\r\n        this._buttonRequest.addEventListener(\"click\", async () => {\r\n            this._start += 6;\r\n            this._result = await this.request();\r\n\r\n            this.writeBook(this._result.items);\r\n        });\r\n    }\r\n\r\n    // отображение книг по запросу\r\n    writeBook(arrBook) {\r\n        if (!arrBook) return\r\n\r\n            arrBook.forEach(async (element, index) => {\r\n                let book = element;\r\n                let idBook = book.id;\r\n                let autor = book.volumeInfo.authors;\r\n                let description = book.volumeInfo.description?.slice(0, 82);\r\n                let image = book.volumeInfo.imageLinks?.thumbnail;\r\n                let title = book.volumeInfo.title;\r\n                let price = book.saleInfo.retailPrice;\r\n                let priceN = `${price?.amount ? price.amount : \"\"} ${price?.currencyCode ? price.currencyCode : \"\"}`;\r\n                let raiting = book.volumeInfo.averageRating;\r\n                let grade = book.volumeInfo.raitingCount;\r\n                let flagButton = false;\r\n\r\n                //проверка есть книга в корзине\r\n                for (let index = 0; index < localStorage.length; index++) {\r\n                    if (localStorage.key(index) === idBook) {\r\n                        flagButton = true;\r\n                    }\r\n                }\r\n                //проверка на повтор книг в списке, видимо из-за какого-то косяка апи выдает одинаковые книги\r\n                if (document.getElementById(idBook)) {\r\n                    return;\r\n                }\r\n\r\n                // отображение рейтинга\r\n                let raitingStar = \"\";\r\n                if (raiting) {\r\n                    for (let index = 0; index < raiting; index++) {\r\n                        let star = `<img src=\"../image/icons/Star.svg\" alt=\"\" />`;\r\n                        raitingStar += star;\r\n                    }\r\n                }\r\n\r\n                // создание карточки книги\r\n                let bookNew = `\r\n            <div class=\"card-book\" id='${idBook}' attr = \"${flagButton === true ? \"buy\" : \"not-buy\"}\">\r\n                <img  loading=\"lazy\" class=\"card-book__img\" src=\"${image ? image : this.placeholder}\" alt=\"\">\r\n                \r\n                <div class=\"card-book__box\">\r\n                    <p class=\"card-book__box-autor\">${autor ? autor : \"\"}</p>\r\n                    <h2 class=\"card-book__box-title\">${title}</h2>\r\n                    <div class=\"card-book__box-raiting\">\r\n                        <div class=\"card-book__box-raiting--star\">\r\n                            ${raiting ? raitingStar : \"\"}\r\n                        </div>\r\n                    <p class=\"card-book__box-raiting--text\">${grade ? grade + \" review\" : \"\"}</p>\r\n                    </div>\r\n                    <p class=\"card-book__box-description\">${description === undefined ? \"\" : description + \"...\"}</p>\r\n                    <p class=\"card-book__box-price\">${priceN}</p>\r\n                    <button class=\"card-book__box-button ${flagButton === true ? \"in-the-cart\" : \"\"}\">${\r\n                    flagButton === true ? \"in the cart\" : \"buy now\"\r\n                }</button>\r\n                </div>\r\n            </div>`;\r\n                this._bookBox.innerHTML += bookNew;\r\n            });\r\n        this.initButtonBuy();\r\n    }\r\n    //навешивание обработчика на кнопку купить в карточке книги\r\n    initButtonBuy() {\r\n        this._buttons = document.querySelectorAll(\".card-book__box-button\");\r\n        this._buttons.forEach((element) => {\r\n            element.addEventListener(\"click\", (e) => {\r\n                e.preventDefault()\r\n                this.bookBuy(element);\r\n            });\r\n        });\r\n    }\r\n    //функция добавления книги в корзину и удалении из карзины\r\n    bookBuy(el) {\r\n        let book = document.getElementById(el.parentElement.parentElement.id);\r\n        if (book.getAttribute(\"attr\") === \"not-buy\") {\r\n            book.setAttribute(\"attr\", \"buy\");\r\n            book.querySelector(\".card-book__box-button\").classList.toggle(\"in-the-cart\");\r\n            book.querySelector(\".card-book__box-button\").textContent = \"in the cart\";\r\n            this.localMemory(book, el.parentElement.parentElement.id);\r\n            this.basket();\r\n        } else {\r\n            book.setAttribute(\"attr\", \"not-buy\");\r\n            book.querySelector(\".card-book__box-button\").classList.toggle(\"in-the-cart\");\r\n            book.querySelector(\".card-book__box-button\").textContent = \"buy now\";\r\n            localStorage.removeItem(el.parentElement.parentElement.id);\r\n            this.basket();\r\n        }\r\n    }\r\n    //отображение колличества товара в карзине\r\n    basket() {\r\n        this._amountProduct = localStorage.length;\r\n        this._basket.innerHTML = this._amountProduct;\r\n        if (this._amountProduct > 0) {\r\n            this._basket.classList.add(\"active\");\r\n        } else {\r\n            this._basket.classList.remove(\"active\");\r\n        }\r\n    }\r\n    // книги с корзины сохраняються в localStorage\r\n    localMemory(book, id) {\r\n        this._arrBook = {\r\n            id: id,\r\n            autor: book.children[1].children[0].textContent,\r\n            title: book.children[1].children[1].textContent,\r\n            description: book.children[1].children[3].textContent,\r\n            price: book.children[1].children[4].textContent,\r\n        };\r\n        this._arrBookJson = JSON.stringify(this._arrBook);\r\n        localStorage.setItem(id, this._arrBookJson);\r\n    }\r\n}\r\nconst writeContent = new WriteContent();\r\ndocument.addEventListener(\"DOMContentLoaded\", writeContent.start());\r\n"],"names":["constructor","this","_arrImages","url","_sliderBox","document","querySelector","_pointBox","_slider","_count","initSlider","forEach","element","index","innerHTML","_point","_pointer","querySelectorAll","point","addEventListener","pointerClick","dataset","interval","setInterval","length","num","classList","remove","add","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","_buttonRequest","_keyAPI","_bookBox","_start","_basket","_amountProduct","localStorage","placeholder","_arrCategories","name","_navBox","_link","_category","async","response","fetch","data","json","_result","console","log","initNavLink","_links","link","e","preventDefault","linkClick","startRequest","writeContent","super","start","initHandler","basket","request","writeBook","items","arrBook","book","idBook","id","autor","volumeInfo","authors","description","slice","image","imageLinks","thumbnail","title","price","saleInfo","retailPrice","priceN","amount","currencyCode","raiting","averageRating","grade","raitingCount","flagButton","key","getElementById","raitingStar","bookNew","initButtonBuy","_buttons","bookBuy","el","parentElement","getAttribute","setAttribute","toggle","textContent","localMemory","removeItem","_arrBook","children","_arrBookJson","JSON","stringify","setItem"],"sourceRoot":""}